
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
import { makeTypedQueryFactory as $mkFactory } from "../runtime/library"
export const setComparisonQuery3 = /*#__PURE__*/ $mkFactory("WITH artist_user AS (\n\nSELECT DISTINCT\na.id        AS artist_id,\npl.\"userId\" AS user_id\nFROM   \"Artist\"        a\nJOIN   \"Album\"         al ON al.\"artistId\" = a.id\nJOIN   \"Track\"         t  ON t.\"albumId\"   = al.id\nJOIN   \"PlaylistTrack\" pt ON pt.\"trackId\"  = t.id\nJOIN   \"Playlist\"      pl ON pl.id         = pt.\"playlistId\"\nWHERE pl.\"createdAt\" >= $1\n)\nSELECT\nar1.name AS \"firstArtistName\",\nar2.name AS \"secondArtistName\"\nFROM   \"Artist\" ar1\nJOIN   \"Artist\" ar2\nON ar1.id < ar2.id\nWHERE  NOT EXISTS (\nSELECT 1\nFROM   artist_user au1\nWHERE  au1.artist_id = ar1.id\nAND  NOT EXISTS (\nSELECT 1\nFROM   artist_user au2\nWHERE  au2.artist_id = ar2.id\nAND  au2.user_id   = au1.user_id\n)\n)\nAND  NOT EXISTS (\nSELECT 1\nFROM   artist_user au2\nWHERE  au2.artist_id = ar2.id\nAND  NOT EXISTS (\nSELECT 1\nFROM   artist_user au1\nWHERE  au1.artist_id = ar1.id\nAND  au1.user_id   = au2.user_id\n)\n);")
